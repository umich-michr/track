FROM httpd:2.4.63

COPY httpd.conf /usr/local/apache2/conf/httpd.conf

COPY certs/ /usr/local/apache2/conf/certs/

ARG LISTEN_HTTP_PORT
ARG LISTEN_HTTPS_PORT
ARG APACHE_AJP_PORT
ARG APACHE_AJP_SECRET
ARG DOCKER_HTTPS_PORT

ENV HTTP_PORT=${LISTEN_HTTP_PORT:-80}
ENV HTTPS_PORT=${LISTEN_HTTPS_PORT:-443}
ENV AJP_PORT=${APACHE_AJP_PORT:-8009}
ENV AJP_SECRET=${APACHE_AJP_SECRET}
ENV REDIRECT_HTTPS_PORT=${DOCKER_HTTPS_PORT:-8443}
